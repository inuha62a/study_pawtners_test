<h1>学習記録の作成</h1>

<% if @study.errors.any? %>
  <div style="color: red;">
    <ul>
      <% @study.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @study, local: true do |f| %>
  <div>
    <%= f.label :date, "学習日" %>
    <%= f.date_field :date %>
  </div>

  <h3>学習項目（未完了）</h3>

  <% if @contents.any? %>
    <% @contents.each do |content| %>
      <div>
        <%= check_box_tag "study[content_ids][]", content.id %>
        <%= content.name %>
      </div>
    <% end %>
  <% else %>
    <p>未完了の学習項目がありません。</p>
  <% end %>

  <div>
    <%= f.label :body, "メモ" %><br>
    <%= f.text_area :body %>
  </div>

  <%= f.submit "記録する" %>
<% end %>

<hr>

<h2>その他操作</h2>

<ul>
  <li><%= link_to "学習項目の一覧へ", contents_path %></li>
  <li><%= link_to "学習項目を新しく追加する", new_content_path %></li>
</ul>